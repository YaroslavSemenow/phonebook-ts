"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[303],{3303:function(e,t,a){a.r(t),a.d(t,{default:function(){return J}});var n=a(181);var r=a(885),o=a(2791),i=a(5218),s=a(6199),c=a(6151),l=a(9652),d=a(8821),u="ContactForm_form__dhl+T",m="ContactForm_form__list__EiEnz",p="ContactForm_form__item__oo2Av",h=a(3329);function f(){var e=(0,o.useState)(""),t=(0,r.Z)(e,2),a=t[0],l=t[1],f=(0,o.useState)(""),v=(0,r.Z)(f,2),g=v[0],b=v[1],Z=(0,d.Tn)(),x=(0,r.Z)(Z,2),_=x[0],y=x[1].isLoading,C=(0,d.bC)().data,z=function(e){var t=e.currentTarget,a=t.name,n=t.value;switch(a){case"name":l(n);break;case"number":b(n)}},j=function(){l(""),b("")};return(0,h.jsx)("form",{className:u,onSubmit:function(e){e.preventDefault(),j();var t,r={name:a,number:g},o=function(e,t){var a="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=(0,n.Z)(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,c=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return s=e.done,e},e:function(e){c=!0,i=e},f:function(){try{s||null==a.return||a.return()}finally{if(c)throw i}}}}(C);try{for(o.s();!(t=o.n()).done;){if(t.value.name.toLowerCase()===r.name.toLowerCase())return void i.ZP.error('"'.concat(r.name,'" is already in contact'),{duration:3e3})}}catch(s){o.e(s)}finally{o.f()}i.ZP.promise(_(r).unwrap(),{loading:"Adding...",success:"Contact successfully added",error:"Oops! Something went wrong. Please reload the page and try again"})},children:(0,h.jsxs)("ul",{className:m,children:[(0,h.jsx)("li",{className:p,children:(0,h.jsx)(s.Z,{label:"Name",size:"small",variant:"standard",helperText:"*required",type:"text",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",onChange:z,value:a,required:!0})}),(0,h.jsx)("li",{className:p,children:(0,h.jsx)(s.Z,{label:"Number",size:"small",variant:"standard",type:"tel",name:"number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone phone must be digits and can contain spaces, dashes, parentheses and can start with +",onChange:z,value:g,required:!0})}),(0,h.jsx)("li",{className:p,children:(0,h.jsx)(c.Z,{variant:"contained",sx:{marginTop:"8px"},type:"submit",disabled:y,children:"Add contact"})})]})})}var v=a(5048);function g(){var e=(0,v.v9)((function(e){return e.contacts.filter})),t=(0,v.I0)();return{filter:e,setFilter:function(e){return t(l.r.setFilter(e))}}}function b(){var e=g(),t=e.filter,a=e.setFilter;return(0,h.jsx)(s.Z,{type:"text",name:"filter",variant:"filled",size:"small",sx:{marginBottom:"25px"},label:"Find contact by name",value:t,onChange:function(e){return a(e.target.value)}})}var Z=a(4942),x=a(3366),_=a(7462),y=a(8182),C=a(4419),z=a(2065),j=a(6934),w=a(1402),S=a(3701),N=a(4036),R=a(5878),k=a(1217);function F(e){return(0,k.Z)("MuiIconButton",e)}var I=(0,R.Z)("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),P=["edge","children","className","color","disabled","disableFocusRipple","size"],A=(0,j.ZP)(S.Z,{name:"MuiIconButton",slot:"Root",overridesResolver:function(e,t){var a=e.ownerState;return[t.root,"default"!==a.color&&t["color".concat((0,N.Z)(a.color))],a.edge&&t["edge".concat((0,N.Z)(a.edge))],t["size".concat((0,N.Z)(a.size))]]}})((function(e){var t=e.theme,a=e.ownerState;return(0,_.Z)({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest})},!a.disableRipple&&{"&:hover":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.action.activeChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,z.Fq)(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"start"===a.edge&&{marginLeft:"small"===a.size?-3:-12},"end"===a.edge&&{marginRight:"small"===a.size?-3:-12})}),(function(e){var t,a=e.theme,n=e.ownerState,r=null==(t=(a.vars||a).palette)?void 0:t[n.color];return(0,_.Z)({},"inherit"===n.color&&{color:"inherit"},"inherit"!==n.color&&"default"!==n.color&&(0,_.Z)({color:null==r?void 0:r.main},!n.disableRipple&&{"&:hover":(0,_.Z)({},r&&{backgroundColor:a.vars?"rgba(".concat(r.mainChannel," / ").concat(a.vars.palette.action.hoverOpacity,")"):(0,z.Fq)(r.main,a.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),"small"===n.size&&{padding:5,fontSize:a.typography.pxToRem(18)},"large"===n.size&&{padding:12,fontSize:a.typography.pxToRem(28)},(0,Z.Z)({},"&.".concat(I.disabled),{backgroundColor:"transparent",color:(a.vars||a).palette.action.disabled}))})),E=o.forwardRef((function(e,t){var a=(0,w.Z)({props:e,name:"MuiIconButton"}),n=a.edge,r=void 0!==n&&n,o=a.children,i=a.className,s=a.color,c=void 0===s?"default":s,l=a.disabled,d=void 0!==l&&l,u=a.disableFocusRipple,m=void 0!==u&&u,p=a.size,f=void 0===p?"medium":p,v=(0,x.Z)(a,P),g=(0,_.Z)({},a,{edge:r,color:c,disabled:d,disableFocusRipple:m,size:f}),b=function(e){var t=e.classes,a=e.disabled,n=e.color,r=e.edge,o=e.size,i={root:["root",a&&"disabled","default"!==n&&"color".concat((0,N.Z)(n)),r&&"edge".concat((0,N.Z)(r)),"size".concat((0,N.Z)(o))]};return(0,C.Z)(i,F,t)}(g);return(0,h.jsx)(A,(0,_.Z)({className:(0,y.Z)(b.root,i),centerRipple:!0,focusRipple:!m,disabled:d,ref:t,ownerState:g},v,{children:o}))})),L=a(7247),T="ContactItem_item__pER5Q",M="ContactItem_item__inner__RNhtE",O="ContactItem_item__name__7jKz7",B="ContactItem_item__number__DpZ9P";function q(e){var t=e.contact,a=(0,d.Nt)({fixedCacheKey:"delete-contacts-item"}),n=(0,r.Z)(a,2),o=n[0],s=n[1].isLoading,c=t.id,l=t.name,u=t.number;return(0,h.jsx)("li",{className:T,children:(0,h.jsxs)("div",{className:M,children:[(0,h.jsx)("span",{className:O,children:l})," ",(0,h.jsx)("span",{className:B,children:u}),(0,h.jsx)(E,{"aria-label":"delete",disabled:s,onClick:function(){i.ZP.promise(o(c).unwrap(),{loading:"Deleting...",success:'"'.concat(t.name,'" has been deleted'),error:"Oops! Something went wrong. Please reload the page and try again"})},children:(0,h.jsx)(L.Z,{})})]})})}var D=a(8978),V="ContactList_list__csErn";function H(){var e=(0,d.bC)(),t=e.data,a=void 0===t?[]:t,n=e.isError,r=e.isLoading,s=g().filter;(0,o.useEffect)((function(){n&&i.ZP.error("Oops! Something went wrong. Please reload the page and try again")}),[n]);var c=(0,o.useMemo)((function(){var e=s.toLowerCase();return a.filter((function(t){return t.name.toLowerCase().includes(e)}))}),[a,s]),l=a.length>0;return(0,h.jsxs)(h.Fragment,{children:[l&&(0,h.jsx)("ul",{className:V,children:c.map((function(e){return(0,h.jsx)(q,{contact:e},e.id)}))}),r&&(0,h.jsx)(D.Z,{size:80}),!r&&!n&&0===a.length&&(0,h.jsx)("h4",{children:"The phone book is currently empty"})]})}var K="ContactsPage_contactsPage__gV07C";function J(){return(0,h.jsxs)("div",{className:K,children:[(0,h.jsx)(f,{}),(0,h.jsx)(b,{}),(0,h.jsx)(H,{})]})}},7247:function(e,t,a){var n=a(4836);t.Z=void 0;var r=n(a(5649)),o=a(3329),i=(0,r.default)((0,o.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");t.Z=i}}]);
//# sourceMappingURL=303.371dfad2.chunk.js.map